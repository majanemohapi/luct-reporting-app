{"ast":null,"code":"import _objectSpread from\"C:/Users/BRAINTECH/Desktop/majane/majane/luct-report/luct-reporting-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[form,setForm]=useState({username:'',password:''});const navigate=useNavigate();const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{const res=await axios.post('/api/login',form);localStorage.setItem('token',res.data.token);// Redirect based on role\nconst role=res.data.role;navigate(\"/\".concat(role));}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed');}};return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',backgroundColor:'#ccc'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px',backgroundColor:'white',borderRadius:'8px',boxShadow:'0 0 10px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"user\",style:{fontSize:'60px',color:'#24313eff'},children:\"\\uD83D\\uDC64\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px',width:'100%',maxWidth:'300px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',textAlign:'left',color:'#181f27ff',marginBottom:'5px'},children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",style:{width:'100%',padding:'10px',border:'2px solid #1d2a38ff',borderRadius:'4px',fontSize:'16px',boxSizing:'border-box',background:'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\' fill=\\'%23007bff\\'%3E%3Cpath d=\\'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\\'/%3E%3C/svg%3E\") no-repeat 10px center',paddingLeft:'40px'},onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px',width:'100%',maxWidth:'300px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',textAlign:'left',color:'#212e3dff',marginBottom:'5px'},children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",style:{width:'100%',padding:'10px',border:'2px solid #17202bff',borderRadius:'4px',fontSize:'16px',boxSizing:'border-box',background:'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\' fill=\\'%23007bff\\'%3E%3Cpath d=\\'M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\\'/%3E%3C/svg%3E\") no-repeat 10px center',paddingLeft:'40px'},onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px',color:'#1e252cff'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"remember\",style:{marginRight:'5px'}}),\" \",/*#__PURE__*/_jsx(\"label\",{htmlFor:\"remember\",children:\"Remember me\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/forgot-password\",style:{marginLeft:'20px',color:'#007bff',textDecoration:'none'},children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:'#1f2934ff',color:'white',padding:'10px 20px',border:'none',borderRadius:'4px',fontSize:'16px',cursor:'pointer',width:'100%',maxWidth:'300px'},children:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'15px',color:'#1c2733ff'},children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{color:'#007bff',textDecoration:'none'},children:\"Register\"})]})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Login","form","setForm","username","password","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","post","localStorage","setItem","data","token","role","concat","err","_err$response","_err$response$data","alert","response","message","style","display","justifyContent","alignItems","height","backgroundColor","children","textAlign","padding","borderRadius","boxShadow","marginBottom","fontSize","color","onSubmit","flexDirection","width","maxWidth","type","border","boxSizing","background","paddingLeft","onChange","required","id","marginRight","htmlFor","href","marginLeft","textDecoration","cursor","marginTop","to"],"sources":["C:/Users/BRAINTECH/Desktop/majane/majane/luct-report/luct-reporting-app/frontend/src/components/student/Login.js"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  const [form, setForm] = useState({ username: '', password: '' });\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post('/api/login', form);\r\n      localStorage.setItem('token', res.data.token);\r\n      // Redirect based on role\r\n      const role = res.data.role;\r\n      navigate(`/${role}`);\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Login failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', \r\n      backgroundColor: '#ccc' \r\n    }}>\r\n      <div style={{ textAlign: 'center', padding: '20px', backgroundColor: 'white', borderRadius: '8px', boxShadow: '0 0 10px rgba(0,0,0,0.1)' }}>\r\n        <div style={{ marginBottom: '20px' }}>\r\n          <span role=\"img\" aria-label=\"user\" style={{ fontSize: '60px', color: '#24313eff' }}>ðŸ‘¤</span>\r\n        </div>\r\n        <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n          <div style={{ marginBottom: '15px', width: '100%', maxWidth: '300px' }}>\r\n            <label style={{ display: 'block', textAlign: 'left', color: '#181f27ff', marginBottom: '5px' }}>Username</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '10px',\r\n                border: '2px solid #1d2a38ff',\r\n                borderRadius: '4px',\r\n                fontSize: '16px',\r\n                boxSizing: 'border-box',\r\n                background: 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\' fill=\\'%23007bff\\'%3E%3Cpath d=\\'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\\'/%3E%3C/svg%3E\") no-repeat 10px center',\r\n                paddingLeft: '40px',\r\n              }}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div style={{ marginBottom: '15px', width: '100%', maxWidth: '300px' }}>\r\n            <label style={{ display: 'block', textAlign: 'left', color: '#212e3dff', marginBottom: '5px' }}>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '10px',\r\n                border: '2px solid #17202bff',\r\n                borderRadius: '4px',\r\n                fontSize: '16px',\r\n                boxSizing: 'border-box',\r\n                background: 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\' fill=\\'%23007bff\\'%3E%3Cpath d=\\'M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\\'/%3E%3C/svg%3E\") no-repeat 10px center',\r\n                paddingLeft: '40px',\r\n              }}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div style={{ marginBottom: '15px', color: '#1e252cff' }}>\r\n            <input type=\"checkbox\" id=\"remember\" style={{ marginRight: '5px' }} /> <label htmlFor=\"remember\">Remember me</label>\r\n            <a href=\"/forgot-password\" style={{ marginLeft: '20px', color: '#007bff', textDecoration: 'none' }}>Forgot password?</a>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            style={{\r\n              backgroundColor: '#1f2934ff',\r\n              color: 'white',\r\n              padding: '10px 20px',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              fontSize: '16px',\r\n              cursor: 'pointer',\r\n              width: '100%',\r\n              maxWidth: '300px',\r\n            }}\r\n          >\r\n            LOGIN\r\n          </button>\r\n          <p style={{ marginTop: '15px', color: '#1c2733ff' }}>\r\n            Don't have an account? <Link to=\"/register\" style={{ color: '#007bff', textDecoration: 'none' }}>Register</Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}