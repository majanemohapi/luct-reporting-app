{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Classes=()=>{const[classes,setClasses]=useState([]);const[searchQuery,setSearchQuery]=useState('');const token=localStorage.getItem('token');const headers={Authorization:\"Bearer \".concat(token)};useEffect(()=>{axios.get('/api/classes',{headers}).then(res=>setClasses(res.data)).catch(err=>alert('Failed to fetch classes'));},[]);const handleSearch=async()=>{try{// Corrected URL string with backticks and template placeholder\nconst res=await axios.get(\"/api/search/classes?query=\".concat(searchQuery),{headers});setClasses(res.data);}catch(err){alert('Search failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"View Classes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search classes...\",className:\"form-control mb-3\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"btn btn-secondary mb-3\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Class Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Venue\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:classes.length>0?classes.map(cls=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:cls.id}),/*#__PURE__*/_jsx(\"td\",{children:cls.course_name}),/*#__PURE__*/_jsx(\"td\",{children:cls.class_name}),/*#__PURE__*/_jsx(\"td\",{children:cls.venue}),/*#__PURE__*/_jsx(\"td\",{children:cls.scheduled_time})]},cls.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-center\",children:\"No classes found.\"})})})]})]});};export default Classes;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Classes","classes","setClasses","searchQuery","setSearchQuery","token","localStorage","getItem","headers","Authorization","concat","get","then","res","data","catch","err","alert","handleSearch","className","children","type","placeholder","value","onChange","e","target","onClick","length","map","cls","id","course_name","class_name","venue","scheduled_time","colSpan"],"sources":["C:/Users/BRAINTECH/Desktop/majane/majane/luct-report/luct-reporting-app/frontend/src/components/prl/Classes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst Classes = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  \r\n \r\n  const token = localStorage.getItem('token');\r\n\r\n  const headers = { Authorization: `Bearer ${token}` }; \r\n\r\n  useEffect(() => {\r\n    axios.get('/api/classes', { headers })\r\n      .then(res => setClasses(res.data))\r\n      .catch(err => alert('Failed to fetch classes'));\r\n  }, []);\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      // Corrected URL string with backticks and template placeholder\r\n      const res = await axios.get(`/api/search/classes?query=${searchQuery}`, { headers });\r\n      setClasses(res.data);\r\n    } catch (err) {\r\n      alert('Search failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h3>View Classes</h3>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search classes...\"\r\n        className=\"form-control mb-3\"\r\n        value={searchQuery}\r\n        onChange={(e) => setSearchQuery(e.target.value)}\r\n      />\r\n      <button onClick={handleSearch} className=\"btn btn-secondary mb-3\">Search</button>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Course</th>\r\n            <th>Class Name</th>\r\n            <th>Venue</th>\r\n            <th>Time</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {classes.length > 0 ? (\r\n            classes.map((cls) => (\r\n              <tr key={cls.id}>\r\n                <td>{cls.id}</td>\r\n                <td>{cls.course_name}</td>\r\n                <td>{cls.class_name}</td>\r\n                <td>{cls.venue}</td>\r\n                <td>{cls.scheduled_time}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"5\" className=\"text-center\">No classes found.</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Classes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}